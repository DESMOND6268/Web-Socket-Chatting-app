<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Let's Chat</title>
    <link rel="shortcut icon" href="data:image/png;base64,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" type="image/x-icon">

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .scrollbar-hidden::-webkit-scrollbar {
            display: none;
        }
        
        .scrollbar-hidden {
            -ms-overflow-style: none; 
            scrollbar-width: none;
        }
    </style>
</head>
<body class="bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 h-screen flex items-center justify-center">

    <div id="nameForm" class="bg-white shadow-lg rounded-lg p-8 w-full max-w-sm">
        <h1 class="text-3xl font-bold text-center text-gray-800 mb-6">Welcome to Let's Chat!</h1>
        <form id="nameFormElement">
            <div class="mb-4">
                <input type="text" name="username" placeholder="Enter your name" autocomplete="off" class="inputField w-full px-4 py-2 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500">
            </div>
            <button type="submit" class="w-full bg-indigo-500 hover:bg-indigo-600 text-white font-semibold py-2 px-4 rounded-full transition duration-200">
                Start Chatting
            </button>
        </form>
    </div>

    <div id="chatInterface" class="bg-white shadow-lg rounded-lg p-8 w-full max-w-lg hidden">
        <h2 class="text-2xl font-bold text-gray-800 mb-4">Chat Room</h2>
        <div id="messages" class="h-64 overflow-y-scroll scrollbar-hidden border border-gray-300 p-4 rounded-lg mb-4">
        </div>
        <form id="chatForm">
            <input type="text" name="message" placeholder="Type your message..." autocomplete="off" class="w-full px-4 py-2 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500">
            <button type="submit" class="mt-2 w-full bg-indigo-500 hover:bg-indigo-600 text-white font-semibold py-2 px-4 rounded-full transition duration-200">
                Send
            </button>
        </form>
    </div>

    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js" integrity="sha384-2huaZvOR9iDzHqslqwpR87isEmrfxqyWOF7hr7BY6KG0+hVKLoEXMPUJw3ynWuhO" crossorigin="anonymous"></script>

    <script>
        document.querySelector("#nameFormElement").addEventListener("submit", function(event){
            event.preventDefault();

            const inputField = document.querySelector(".inputField");
            const username = inputField.value.trim();

            if (username.length === 0) {
                alert("Please enter a valid name");
            } else {
                const socket = io();

                socket.emit("new-user", username);

                document.getElementById("nameForm").classList.add("hidden");
                document.getElementById("chatInterface").classList.remove("hidden");

                socket.on("message", function(message){
                    displayMessage(message, "left");
                });

                document.getElementById("chatForm").addEventListener("submit", function(event) {
                    event.preventDefault();
                    const messageInput = this.querySelector('input[name="message"]');
                    const message = messageInput.value.trim();

                    if (message.length > 0) {
                        displayMessage(message, "right");
                        socket.emit("send-message", message);
                        messageInput.value = "";
                    }
                });

                function displayMessage(message, side) {
                    const messageContainer = document.getElementById("messages");
                    const messageElement = document.createElement("div");
                    
                    if (side === "right") {
                        messageElement.classList.add("bg-blue-500", "text-white", "self-end");
                    } else {
                        messageElement.classList.add("bg-gray-300", "text-gray-800", "self-start");
                    }
                    
                    messageElement.classList.add("rounded-lg", "px-4", "py-2", "my-2", "max-w-xs", "break-words");
                    messageElement.textContent = message;

                    const messageWrapper = document.createElement("div");
                    messageWrapper.classList.add("flex", side === "right" ? "justify-end" : "justify-start");
                    messageWrapper.appendChild(messageElement);
                    
                    messageContainer.appendChild(messageWrapper);
                    messageContainer.scrollTop = messageContainer.scrollHeight;
                }
            }
        });
    </script>
</body>
</html>
